{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport axios from 'config/axios';\nimport MainLayout from 'layouts/MainLayout';\nimport GreenBackground from 'components/GreenBackground';\nimport Modal from 'react-modal';\nimport styles from './ProductDetail.module.scss';\nimport Button from '@material-ui/core/Button';\nimport Link from 'next/link'; // @ts-ignore\n\nimport currencyFormatter from 'currency-formatter';\nimport { toggleChatBubble } from 'redux/actions/ui';\nimport { connect } from 'react-redux';\n\nfunction ShopItem({\n  productData,\n  siteInfo,\n  toggleChatBubble\n}) {\n  const {\n    0: openModal,\n    1: setOpenModal\n  } = useState(false);\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      maxWidth: '60rem',\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alightItems: 'center',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      padding: '3em'\n    }\n  };\n\n  const closeModal = () => {\n    setOpenModal(false);\n  };\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleOpenChat = () => {\n    toggleChatBubble(true);\n  }; // console.log(productData);\n\n\n  return __jsx(MainLayout, {\n    title: productData.name,\n    contacts: siteInfo\n  }, __jsx(GreenBackground, {\n    name: \"C\\u1EEDa h\\xE0ng\",\n    breadcrumb: `Trang chủ / Cửa hàng / ${productData.name}`\n  }), __jsx(\"div\", {\n    className: styles.productWrapper\n  }, __jsx(\"div\", {\n    className: styles.imgWrapper\n  }, __jsx(\"div\", {\n    className: styles.tagWrapper\n  }, productData.salePrice && __jsx(\"div\", {\n    className: styles.saleTag\n  }, \"Sale !\"), !productData.available && __jsx(\"div\", {\n    className: styles.soldOut\n  }, \"H\\u1EBFt h\\xE0ng !\")), __jsx(\"div\", {\n    className: styles.zoom,\n    onClick: handleOpenModal\n  }, __jsx(\"img\", {\n    src: \"/icons/search.svg\",\n    alt: \"zoom\"\n  })), __jsx(\"div\", {\n    className: styles.img\n  }, __jsx(\"img\", {\n    src: `/api/product/image/${productData.urlTitle}`,\n    alt: productData.urlTitle\n  }))), __jsx(\"div\", {\n    className: styles.info\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, productData.name), __jsx(\"div\", {\n    className: styles.priceWrapper\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \" Gi\\xE1:\"), __jsx(\"div\", {\n    className: styles.price\n  }, productData.salePrice && __jsx(\"span\", null, currencyFormatter.format(productData.price, {\n    code: 'VND'\n  })), ' ', productData.salePrice ? currencyFormatter.format(productData.salePrice, {\n    code: 'VND'\n  }) : currencyFormatter.format(productData.price, {\n    code: 'VND'\n  }))), __jsx(\"div\", {\n    className: styles.addToCartButton\n  }, __jsx(Button, {\n    style: {\n      backgroundColor: `${productData.available ? '#e91e63' : 'gray'}`,\n      textTransform: 'uppercase',\n      fontWeight: 'bold',\n      color: 'white'\n    },\n    disabled: productData.available ? false : true,\n    className: styles.button,\n    onClick: () => handleOpenChat()\n  }, \"LI\\xCAN H\\u1EC6\", __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/live-chat.svg\",\n    alt: \"chat\"\n  })))))), __jsx(\"div\", {\n    className: styles.backToShopButton\n  }, __jsx(Link, {\n    href: \"/cua-hang\"\n  }, __jsx(Button, {\n    style: {\n      backgroundColor: ' #e91e63',\n      textTransform: 'uppercase',\n      fontWeight: 'bold',\n      color: 'white'\n    }\n  }, \"Quay l\\u1EA1i c\\u1EEDa h\\xE0ng\"))), __jsx(Modal, {\n    isOpen: openModal,\n    onRequestClose: closeModal,\n    style: customStyles,\n    contentLabel: \"Example Modal\"\n  }, __jsx(\"img\", {\n    src: `/api/product/image/${productData.urlTitle}`,\n    alt: productData.urlTitle\n  }), __jsx(\"div\", {\n    className: styles.closeModal,\n    onClick: closeModal\n  }, __jsx(\"img\", {\n    src: \"/icons/close-2.svg\",\n    alt: \"close\"\n  }))));\n}\n\nexport async function getStaticPaths() {\n  const paths = await axios.get('/producturls'); // console.log(paths.data.paths);\n\n  return {\n    paths: paths.data.paths,\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const productData = await axios.get(`/product/${params.id}`);\n  const siteInfo = await axios.get('/site/info');\n  return {\n    props: {\n      productData: productData.data.product,\n      siteInfo: siteInfo.data.site.siteInfo\n    },\n    revalidate: 1\n  };\n}\nexport default connect(null, {\n  toggleChatBubble\n})(ShopItem);","map":{"version":3,"sources":["/media/robert/DATA/Work/web-project/phuong-nam/src-code/pages/cua-hang/[id].tsx"],"names":["React","useState","axios","MainLayout","GreenBackground","Modal","styles","Button","Link","currencyFormatter","toggleChatBubble","connect","ShopItem","productData","siteInfo","openModal","setOpenModal","customStyles","content","top","left","right","bottom","maxWidth","width","display","justifyContent","alightItems","marginRight","transform","padding","closeModal","handleOpenModal","handleOpenChat","name","productWrapper","imgWrapper","tagWrapper","salePrice","saleTag","available","soldOut","zoom","img","urlTitle","info","priceWrapper","title","price","format","code","addToCartButton","backgroundColor","textTransform","fontWeight","color","button","icon","backToShopButton","getStaticPaths","paths","get","data","fallback","getStaticProps","params","id","props","product","site","revalidate"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'config/axios';\nimport MainLayout from 'layouts/MainLayout';\nimport GreenBackground from 'components/GreenBackground';\nimport Modal from 'react-modal';\nimport styles from './ProductDetail.module.scss';\nimport Button from '@material-ui/core/Button';\nimport Link from 'next/link';\n// @ts-ignore\nimport currencyFormatter from 'currency-formatter'\nimport { toggleChatBubble } from 'redux/actions/ui';\nimport { connect } from 'react-redux'\n\nfunction ShopItem({ productData, siteInfo, toggleChatBubble }: any) {\n  const [openModal, setOpenModal] = useState(false);\n\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      maxWidth: '60rem',\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alightItems: 'center',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      padding: '3em',\n    },\n  };\n\n  const closeModal = () => {\n    setOpenModal(false);\n  };\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n  const handleOpenChat = () => {\n    toggleChatBubble(true)\n  }\n  // console.log(productData);\n  return (\n    <MainLayout title={productData.name} contacts={siteInfo}>\n      <GreenBackground name=\"Cửa hàng\" breadcrumb={`Trang chủ / Cửa hàng / ${productData.name}`} />\n      <div className={styles.productWrapper}>\n        <div className={styles.imgWrapper}>\n          <div className={styles.tagWrapper}>\n            {productData.salePrice && <div className={styles.saleTag}>Sale !</div>}\n            {!productData.available && <div className={styles.soldOut}>Hết hàng !</div>}\n          </div>\n\n          <div className={styles.zoom} onClick={handleOpenModal}>\n            <img src=\"/icons/search.svg\" alt=\"zoom\" />\n          </div>\n          <div className={styles.img}>\n            <img src={`/api/product/image/${productData.urlTitle}`} alt={productData.urlTitle} />\n          </div>\n        </div>\n        <div className={styles.info}>\n          <div className={styles.name}>{productData.name}</div>\n          <div className={styles.priceWrapper}>\n            <div className={styles.title}> Giá:</div>\n            <div className={styles.price}>\n              {productData.salePrice && <span>{currencyFormatter.format(productData.price, {code: 'VND'})}</span>}{' '}\n              {productData.salePrice ? currencyFormatter.format(productData.salePrice, {code: 'VND'}) : currencyFormatter.format(productData.price, {code: 'VND'})}\n            </div>\n          </div>\n          {/* <div className={styles.quantity}>\n            <div className={styles.title}>Số lượng:</div>\n            <div className={styles.quantityInputWrapper}>\n              <div className={styles.left}>-</div>\n              <div className={styles.quantityInput}>\n                <input type=\"number\" />\n              </div>\n              <div className={styles.right}>+</div>\n            </div>\n          </div> */}\n          <div className={styles.addToCartButton}>\n            <Button\n              style={{\n                backgroundColor: `${productData.available ? '#e91e63' : 'gray'}`,\n                textTransform: 'uppercase',\n                fontWeight: 'bold',\n                color: 'white',\n              }}\n              disabled={productData.available ? false : true}\n              className={styles.button}\n              onClick={() => handleOpenChat()}\n            >\n               LIÊN HỆ\n                <div className={styles.icon}>\n                  <img src=\"/icons/live-chat.svg\" alt=\"chat\"/>\n                </div>\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className={styles.backToShopButton}>\n        <Link href=\"/cua-hang\">\n          <Button\n            style={{ backgroundColor: ' #e91e63', textTransform: 'uppercase', fontWeight: 'bold', color: 'white' }}\n          >\n            Quay lại cửa hàng\n          </Button>\n        </Link>\n      </div>\n\n      <Modal isOpen={openModal} onRequestClose={closeModal} style={customStyles} contentLabel=\"Example Modal\">\n        <img src={`/api/product/image/${productData.urlTitle}`} alt={productData.urlTitle} />\n        <div className={styles.closeModal} onClick={closeModal}>\n          <img src=\"/icons/close-2.svg\" alt=\"close\" />\n        </div>\n      </Modal>\n    </MainLayout>\n  );\n}\n\nexport async function getStaticPaths() {\n  const paths = await axios.get('/producturls');\n  // console.log(paths.data.paths);\n  return {\n    paths: paths.data.paths,\n    fallback: true,\n  };\n}\n\nexport async function getStaticProps({ params }: any) {\n  const productData = await axios.get(`/product/${params.id}`);\n  const siteInfo = await axios.get('/site/info');\n\n  return {\n    props: {\n      productData: productData.data.product,\n      siteInfo: siteInfo.data.site.siteInfo,\n    },\n    revalidate: 1,\n  };\n}\n\nexport default connect(null, {toggleChatBubble})(ShopItem)"]},"metadata":{},"sourceType":"module"}