{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styles from './Other.module.scss';\nimport { connect } from 'react-redux';\nimport { getSiteInfo, getSiteCarousel, updateSiteCarousel, updateSiteInfo } from 'redux/actions/admins';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nfunction AdminOthers(_ref) {\n  var carousels = _ref.carousels,\n      siteInfos = _ref.siteInfos,\n      updateSiteCarousel = _ref.updateSiteCarousel,\n      getSiteInfo = _ref.getSiteInfo,\n      getSiteCarousel = _ref.getSiteCarousel,\n      updateSiteInfo = _ref.updateSiteInfo;\n\n  var _useState = useState(true),\n      carouselLoading = _useState[0],\n      setCarouselLoading = _useState[1];\n\n  var _useState2 = useState(true),\n      siteInfoLoading = _useState2[0],\n      setSiteInfoLoading = _useState2[1];\n\n  var _useState3 = useState(0),\n      carouseIndex = _useState3[0],\n      setCarouselIndex = _useState3[1];\n\n  useEffect(function () {\n    getSiteInfo();\n    getSiteCarousel();\n  }, []);\n  useEffect(function () {\n    if (carousels) {\n      setCarouselLoading(false);\n    }\n  }, [carousels]);\n  useEffect(function () {\n    if (siteInfos) {\n      setSiteInfoLoading(false);\n    }\n  }, [siteInfos]);\n\n  var handleUploadCarousel = function handleUploadCarousel(e) {\n    // console.log(e.target.files)c\n    // console.log(index)\n    updateSiteCarousel({\n      key: carouseIndex,\n      data: e.target.files[0]\n    });\n    setCarouselLoading(true);\n  };\n\n  var handleSetIndex = function handleSetIndex(index) {\n    setCarouselIndex(index);\n  };\n\n  var handleSubmitForm = function handleSubmitForm(e) {\n    e.preventDefault(); // console.log(e)\n    // @ts-ignore\n\n    var address = document.getElementById('address').value; // @ts-ignore\n\n    var zalo = document.getElementById('zalo').value; // @ts-ignore\n\n    var facebook = document.getElementById('facebook').value; // @ts-ignore\n\n    var phone = document.getElementById('phone').value; // @ts-ignore\n\n    var gmail = document.getElementById('gmail').value;\n    console.log(address, zalo, facebook, phone, gmail);\n    updateSiteInfo({\n      infos: {\n        address: address,\n        zalo: zalo,\n        facebook: facebook,\n        phone: phone,\n        gmail: gmail\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: styles.contentWrapper\n  }, __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"H\\xECnh \\u1EA3nh b\\u0103ng chuy\\u1EC1n\"), !carouselLoading ? Object.values(carousels).map(function (item, index) {\n    return __jsx(\"div\", {\n      className: styles.carouselItem,\n      key: index\n    }, __jsx(\"div\", {\n      className: styles.name\n    }, \"\\u1EA2nh \", index + 1), __jsx(\"div\", {\n      className: styles.img\n    }, __jsx(\"img\", {\n      src: \"data:\".concat(item.contentType, \";base64,\").concat(Buffer.from(item.data)),\n      alt: \"Thi c\\xF4ng s\\u01A1n epoxy, s\\u01A1n n\\u1EC1n nh\\xE0 x\\u01B0\\u1EDFng hcm\"\n    })), __jsx(\"div\", {\n      className: styles.input\n    }, __jsx(\"label\", {\n      htmlFor: \"carousel-upload\",\n      onClick: function onClick() {\n        return handleSetIndex(index);\n      }\n    }, \"Thay \\u0111\\u1ED5i \\u1EA3nh\"), __jsx(\"input\", {\n      type: \"file\",\n      name: \"img\",\n      accept: \"image/*\",\n      id: \"carousel-upload\",\n      hidden: true,\n      onChange: function onChange(e) {\n        return handleUploadCarousel(e);\n      }\n    })));\n  }) : __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null))), __jsx(\"div\", {\n    className: styles.item,\n    style: {\n      marginTop: '5em'\n    }\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"Th\\xF4ng tin li\\xEAn h\\u1EC7\"), siteInfoLoading ? __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null)) : __jsx(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return handleSubmitForm(e);\n    },\n    id: \"site-info\"\n  }, __jsx(\"div\", {\n    className: styles.formItem\n  }, console.log(siteInfos), __jsx(\"div\", {\n    className: styles.name\n  }, \"\\u0110\\u1ECBa ch\\u1EC9:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.address,\n    id: \"address\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Facebook:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.facebook,\n    id: \"facebook\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Zalo:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.zalo,\n    id: \"zalo\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Gmail:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.gmail,\n    id: \"gmail\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Di \\u0111\\u1ED9ng:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.phone,\n    id: \"phone\"\n  })), __jsx(Button, {\n    variant: \"contained\",\n    style: {\n      backgroundColor: '#318fb5',\n      color: 'white'\n    },\n    form: \"site-info\",\n    type: \"submit\"\n  }, \"C\\u1EADp nh\\u1EADt\"))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    carousels: state.admins.carousels,\n    siteInfos: state.admins.siteInfos\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSiteInfo: getSiteInfo,\n  updateSiteCarousel: updateSiteCarousel,\n  getSiteCarousel: getSiteCarousel,\n  updateSiteInfo: updateSiteInfo\n})(AdminOthers);","map":null,"metadata":{},"sourceType":"module"}