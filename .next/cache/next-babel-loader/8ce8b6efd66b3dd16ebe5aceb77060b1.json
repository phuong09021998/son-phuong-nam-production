{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst {\n  Panel\n} = Collapse;\nimport { useRouter } from 'next/router';\n\nfunction Header({\n  toggleRegisterLogin,\n  user,\n  getUser,\n  logOutUser\n}) {\n  const isSmallDevice = useMediaQuery({\n    query: '(max-width: 767px)'\n  });\n  const isMediumLargeDevice = useMediaQuery({\n    query: '(min-width: 768px)'\n  });\n  const router = useRouter();\n\n  const handleOpenLogin = () => {\n    toggleRegisterLogin(true, 'login');\n  };\n\n  const handleLinkClick = link => {\n    router.push(link);\n  }; // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n\n  const handleLogOut = () => {\n    logOutUser();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  };\n\n  const renderTopMenu = () => __jsx(\"div\", {\n    className: styles.topMenu\n  }, __jsx(\"div\", {\n    className: styles.text\n  }, \"MENU\"), __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/menu.svg\",\n    alt: \"menu-icon\"\n  })));\n\n  const renderAvatar = () => {\n    const menu = __jsx(Menu, null, __jsx(Menu.Item, null, __jsx(\"div\", {\n      className: styles.logOut,\n      style: {\n        textAlign: 'center'\n      },\n      onClick: handleLogOut\n    }, \"\\u0110\\u0103ng xu\\u1EA5t\")));\n\n    const setAvatar = () => {\n      if (user.avatar) {\n        return __jsx(Avatar, {\n          src: \"/api/user/avatar\"\n        });\n      } else if (user.thirdPartyAvatar) {\n        return __jsx(Avatar, {\n          src: user.thirdPartyAvatar\n        });\n      } else if (!user.avatar) {\n        return __jsx(Avatar, {\n          className: styles.avatarName\n        }, user.name[0]);\n      }\n    };\n\n    return __jsx(\"div\", {\n      className: styles.avatarWrapper\n    }, __jsx(\"div\", {\n      className: styles.avatar\n    }, setAvatar()), __jsx(\"div\", {\n      className: styles.down\n    }, __jsx(Dropdown, {\n      overlay: menu,\n      placement: \"bottomCenter\",\n      trigger: ['click']\n    }, __jsx(ExpandMoreIcon, null))));\n  };\n\n  const renderMediumLargeDeviceLayout = () => __jsx(\"header\", {\n    className: styles.header\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: styles.logo\n  }, __jsx(\"div\", {\n    className: styles.logoWrapper\n  }, __jsx(\"img\", {\n    src: \"/icons/logo.svg\",\n    alt: \"logo\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n    className: styles.slogan\n  }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n    className: styles.menuWrapper\n  }, __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/')\n  }, \"Trang Ch\\u1EE7\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/cua-hang')\n  }, \"C\\u1EEDa H\\xE0ng\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/dich-vu')\n  }, \"D\\u1ECBch V\\u1EE5\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/du-an')\n  }, \"D\\u1EF1 \\xC1n\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/kien-thuc')\n  }, \"Ki\\u1EBFn Th\\u1EE9c\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/gioi-thieu')\n  }, \"Gi\\u1EDBi Thi\\u1EC7u\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/lien-he')\n  }, \"Li\\xEAn H\\u1EC7\")), __jsx(\"div\", {\n    className: styles.right\n  }, user ? renderAvatar() : __jsx(\"header\", {\n    className: styles.loginRegister\n  }, __jsx(\"div\", {\n    className: styles.login,\n    onClick: handleOpenLogin\n  }, __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/login.svg\",\n    alt: \"login\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, \"\\u0110\\u0102NG NH\\u1EACP\")))));\n\n  const renderSmallDeviceLayout = () => __jsx(\"header\", {\n    className: styles.header\n  }, __jsx(\"div\", {\n    className: styles.top\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: styles.logo\n  }, __jsx(\"div\", {\n    className: styles.logoWrapper\n  }, __jsx(\"img\", {\n    src: \"/icons/logo.svg\",\n    alt: \"logo\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n    className: styles.slogan\n  }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n    className: styles.right\n  }, user ? renderAvatar() : __jsx(\"div\", {\n    className: styles.loginRegister\n  }, __jsx(\"div\", {\n    className: styles.login,\n    onClick: handleOpenLogin\n  }, __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/login.svg\",\n    alt: \"login\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, \"\\u0110\\u0102NG NH\\u1EACP\"))))), __jsx(\"div\", {\n    className: styles.menuWrapper\n  }, __jsx(Collapse, {\n    className: styles.menu,\n    style: {\n      padding: '0'\n    }\n  }, __jsx(Panel, {\n    header: renderTopMenu(),\n    key: \"1\",\n    showArrow: false,\n    style: {\n      padding: '0'\n    }\n  }, __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/')\n  }, \"Trang Ch\\u1EE7\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/cua-hang')\n  }, \"C\\u1EEDa H\\xE0ng\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/dich-vu')\n  }, \"D\\u1ECBch V\\u1EE5\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/du-an')\n  }, \"D\\u1EF1 \\xC1n\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/kien-thuc')\n  }, \"Ki\\u1EBFn Th\\u1EE9c\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/gioi-thieu')\n  }, \"Gi\\u1EDBi Thi\\u1EC7u\"), __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/lien-he')\n  }, \"Li\\xEAn H\\u1EC7\")))));\n\n  useEffect(() => {\n    getUser();\n  }, []);\n  return __jsx(Fragment, null, isSmallDevice && renderSmallDeviceLayout(), isMediumLargeDevice && renderMediumLargeDeviceLayout());\n}\n\nconst mapStateToProps = state => ({\n  user: state.users.data\n});\n\nexport default connect(mapStateToProps, {\n  toggleRegisterLogin,\n  getUser,\n  logOutUser\n})(Header);","map":null,"metadata":{},"sourceType":"module"}