{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst {\n  Panel\n} = Collapse;\nimport { useRouter } from 'next/router';\n\nfunction Header({\n  toggleRegisterLogin,\n  user,\n  getUser,\n  logOutUser\n}) {\n  const isSmallDevice = useMediaQuery({\n    query: '(max-width: 767px)'\n  });\n  const isMediumLargeDevice = useMediaQuery({\n    query: '(min-width: 768px)'\n  });\n  const router = useRouter();\n\n  const handleOpenLogin = () => {\n    toggleRegisterLogin(true, 'login');\n  };\n\n  const handleLinkClick = link => {\n    router.push(link);\n  }; // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n\n  const handleLogOut = () => {\n    logOutUser();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  };\n\n  const renderTopMenu = () => __jsx(\"div\", {\n    className: styles.topMenu\n  }, __jsx(\"div\", {\n    className: styles.text\n  }, \"MENU\"), __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/menu.svg\",\n    alt: \"menu-icon\"\n  })));\n\n  const renderAvatar = () => {\n    const menu = __jsx(Menu, null, __jsx(Menu.Item, null, __jsx(\"div\", {\n      className: styles.logOut,\n      style: {\n        textAlign: 'center'\n      },\n      onClick: handleLogOut\n    }, \"\\u0110\\u0103ng xu\\u1EA5t\")));\n\n    const setAvatar = () => {\n      if (user.avatar) {\n        return __jsx(Avatar, {\n          src: \"/api/user/avatar\"\n        });\n      } else if (user.thirdPartyAvatar) {\n        return __jsx(Avatar, {\n          src: user.thirdPartyAvatar\n        });\n      } else if (!user.avatar) {\n        return __jsx(Avatar, {\n          className: styles.avatarName\n        }, user.name[0]);\n      }\n    };\n\n    return __jsx(\"div\", {\n      className: styles.avatarWrapper\n    }, __jsx(\"div\", {\n      className: styles.avatar\n    }, setAvatar()), __jsx(\"div\", {\n      className: styles.down\n    }, __jsx(Dropdown, {\n      overlay: menu,\n      placement: \"bottomCenter\",\n      trigger: ['click']\n    }, __jsx(ExpandMoreIcon, null))));\n  };\n\n  const renderMediumLargeDeviceLayout = () => __jsx(\"header\", {\n    className: styles.header\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: styles.logo\n  }, __jsx(\"div\", {\n    className: styles.logoWrapper\n  }, __jsx(\"img\", {\n    src: \"/icons/logo.svg\",\n    alt: \"logo\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n    className: styles.slogan\n  }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n    className: styles.menuWrapper\n  }, __jsx(\"div\", {\n    className: styles.menuItem,\n    onClick: () => handleLinkClick('/')\n  }, \"Trang Ch\\u1EE7\"), __jsx(Link, {\n    href: \"/cua-hang\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"C\\u1EEDa H\\xE0ng\")), __jsx(Link, {\n    href: \"/dich-vu\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"D\\u1ECBch V\\u1EE5\")), __jsx(Link, {\n    href: \"/du-an\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"D\\u1EF1 \\xC1n\")), __jsx(Link, {\n    href: \"/kien-thuc\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Ki\\u1EBFn Th\\u1EE9c\")), __jsx(Link, {\n    href: \"/gioi-thieu\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Gi\\u1EDBi Thi\\u1EC7u\")), __jsx(Link, {\n    href: \"/lien-he\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Li\\xEAn H\\u1EC7\"))), __jsx(\"div\", {\n    className: styles.right\n  }, user ? renderAvatar() : __jsx(\"header\", {\n    className: styles.loginRegister\n  }, __jsx(\"div\", {\n    className: styles.login,\n    onClick: handleOpenLogin\n  }, __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/login.svg\",\n    alt: \"login\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, \"\\u0110\\u0102NG NH\\u1EACP\")))));\n\n  const renderSmallDeviceLayout = () => __jsx(\"header\", {\n    className: styles.header\n  }, __jsx(\"div\", {\n    className: styles.top\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: styles.logo\n  }, __jsx(\"div\", {\n    className: styles.logoWrapper\n  }, __jsx(\"img\", {\n    src: \"/icons/logo.svg\",\n    alt: \"logo\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n    className: styles.slogan\n  }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n    className: styles.right\n  }, user ? renderAvatar() : __jsx(\"div\", {\n    className: styles.loginRegister\n  }, __jsx(\"div\", {\n    className: styles.login,\n    onClick: handleOpenLogin\n  }, __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/login.svg\",\n    alt: \"login\"\n  })), __jsx(\"div\", {\n    className: styles.text\n  }, \"\\u0110\\u0102NG NH\\u1EACP\"))))), __jsx(\"div\", {\n    className: styles.menuWrapper\n  }, __jsx(Collapse, {\n    className: styles.menu,\n    style: {\n      padding: '0'\n    }\n  }, __jsx(Panel, {\n    header: renderTopMenu(),\n    key: \"1\",\n    showArrow: false,\n    style: {\n      padding: '0'\n    }\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Trang Ch\\u1EE7\")), __jsx(Link, {\n    href: \"/cua-hang\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"C\\u1EEDa H\\xE0ng\")), __jsx(Link, {\n    href: \"/dich-vu\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"D\\u1ECBch V\\u1EE5\")), __jsx(Link, {\n    href: \"/du-an\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"D\\u1EF1 \\xC1n\")), __jsx(Link, {\n    href: \"/kien-thuc\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Ki\\u1EBFn Th\\u1EE9c\")), __jsx(Link, {\n    href: \"/gioi-thieu\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Gi\\u1EDBi Thi\\u1EC7u\")), __jsx(Link, {\n    href: \"/lien-he\"\n  }, __jsx(\"div\", {\n    className: styles.menuItem\n  }, \"Li\\xEAn H\\u1EC7\"))))));\n\n  useEffect(() => {\n    getUser();\n  }, []);\n  return __jsx(Fragment, null, isSmallDevice && renderSmallDeviceLayout(), isMediumLargeDevice && renderMediumLargeDeviceLayout());\n}\n\nconst mapStateToProps = state => ({\n  user: state.users.data\n});\n\nexport default connect(mapStateToProps, {\n  toggleRegisterLogin,\n  getUser,\n  logOutUser\n})(Header);","map":{"version":3,"sources":["/media/robert/DATA/Work/web-project/phuong-nam/src-code/components/Header/index.tsx"],"names":["React","Fragment","useEffect","styles","Link","Collapse","useMediaQuery","connect","toggleRegisterLogin","getUser","logOutUser","Avatar","Menu","Dropdown","ExpandMoreIcon","Panel","useRouter","Header","user","isSmallDevice","query","isMediumLargeDevice","router","handleOpenLogin","handleLinkClick","link","push","handleLogOut","setTimeout","window","location","reload","renderTopMenu","topMenu","text","icon","renderAvatar","menu","logOut","textAlign","setAvatar","avatar","thirdPartyAvatar","avatarName","name","avatarWrapper","down","renderMediumLargeDeviceLayout","header","logo","logoWrapper","slogan","menuWrapper","menuItem","right","loginRegister","login","renderSmallDeviceLayout","top","padding","mapStateToProps","state","users","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,mBAAT,QAAoC,wBAApC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,qBAApC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,QAAvB,QAAuC,MAAvC;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAYV,QAAlB;AACA,SAASW,SAAT,QAA0B,aAA1B;;AASA,SAASC,MAAT,CAAgB;AAAET,EAAAA,mBAAF;AAAuBU,EAAAA,IAAvB;AAA6BT,EAAAA,OAA7B;AAAsCC,EAAAA;AAAtC,CAAhB,EAA2E;AACzE,QAAMS,aAAsB,GAAGb,aAAa,CAAC;AAAEc,IAAAA,KAAK,EAAE;AAAT,GAAD,CAA5C;AACA,QAAMC,mBAA4B,GAAGf,aAAa,CAAC;AACjDc,IAAAA,KAAK,EAAE;AAD0C,GAAD,CAAlD;AAIA,QAAME,MAAM,GAAGN,SAAS,EAAxB;;AAEA,QAAMO,eAAe,GAAG,MAAY;AAClCf,IAAAA,mBAAmB,CAAC,IAAD,EAAO,OAAP,CAAnB;AACD,GAFD;;AAIA,QAAMgB,eAAe,GAAIC,IAAD,IAAkB;AACxCH,IAAAA,MAAM,CAACI,IAAP,CAAYD,IAAZ;AACD,GAFD,CAZyE,CAgBzE;AACA;AACA;;;AAEA,QAAME,YAAY,GAAG,MAAM;AACzBjB,IAAAA,UAAU;AACVkB,IAAAA,UAAU,CAAC,MAAM;AACfC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GALD;;AAOA,QAAMC,aAAa,GAAG,MACpB;AAAK,IAAA,SAAS,EAAE7B,MAAM,CAAC8B;AAAvB,KACE;AAAK,IAAA,SAAS,EAAE9B,MAAM,CAAC+B;AAAvB,YADF,EAEE;AAAK,IAAA,SAAS,EAAE/B,MAAM,CAACgC;AAAvB,KACE;AAAK,IAAA,GAAG,EAAC,iBAAT;AAA2B,IAAA,GAAG,EAAC;AAA/B,IADF,CAFF,CADF;;AASA,QAAMC,YAAY,GAAG,MAAM;AACzB,UAAMC,IAAI,GACR,MAAC,IAAD,QACE,MAAC,IAAD,CAAM,IAAN,QACE;AAAK,MAAA,SAAS,EAAElC,MAAM,CAACmC,MAAvB;AAA+B,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAtC;AAA+D,MAAA,OAAO,EAAEZ;AAAxE,kCADF,CADF,CADF;;AAUA,UAAMa,SAAS,GAAG,MAAM;AACtB,UAAItB,IAAI,CAACuB,MAAT,EAAiB;AACf,eAAO,MAAC,MAAD;AAAQ,UAAA,GAAG,EAAC;AAAZ,UAAP;AACD,OAFD,MAEO,IAAIvB,IAAI,CAACwB,gBAAT,EAA2B;AAChC,eAAO,MAAC,MAAD;AAAQ,UAAA,GAAG,EAAExB,IAAI,CAACwB;AAAlB,UAAP;AACD,OAFM,MAEA,IAAI,CAACxB,IAAI,CAACuB,MAAV,EAAkB;AACvB,eAAO,MAAC,MAAD;AAAQ,UAAA,SAAS,EAAEtC,MAAM,CAACwC;AAA1B,WAAuCzB,IAAI,CAAC0B,IAAL,CAAU,CAAV,CAAvC,CAAP;AACD;AACF,KARD;;AAYA,WACE;AAAK,MAAA,SAAS,EAAEzC,MAAM,CAAC0C;AAAvB,OACE;AAAK,MAAA,SAAS,EAAE1C,MAAM,CAACsC;AAAvB,OAAgCD,SAAS,EAAzC,CADF,EAEE;AAAK,MAAA,SAAS,EAAErC,MAAM,CAAC2C;AAAvB,OACE,MAAC,QAAD;AAAU,MAAA,OAAO,EAAET,IAAnB;AAAyB,MAAA,SAAS,EAAC,cAAnC;AAAkD,MAAA,OAAO,EAAE,CAAC,OAAD;AAA3D,OACE,MAAC,cAAD,OADF,CADF,CAFF,CADF;AAUD,GAjCD;;AAmCA,QAAMU,6BAA6B,GAAG,MACpC;AAAQ,IAAA,SAAS,EAAE5C,MAAM,CAAC6C;AAA1B,KAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAE7C,MAAM,CAAC8C;AAAvB,KACE;AAAK,IAAA,SAAS,EAAE9C,MAAM,CAAC+C;AAAvB,KACE;AAAK,IAAA,GAAG,EAAC,iBAAT;AAA2B,IAAA,GAAG,EAAC;AAA/B,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAE/C,MAAM,CAAC+B;AAAvB,KACE;AAAK,IAAA,SAAS,EAAE/B,MAAM,CAACyC;AAAvB,4BADF,EAEE;AAAK,IAAA,SAAS,EAAEzC,MAAM,CAACgD;AAAvB,yCAFF,CAJF,CADF,CAFF,EAaE;AAAK,IAAA,SAAS,EAAEhD,MAAM,CAACiD;AAAvB,KAEI;AAAK,IAAA,SAAS,EAAEjD,MAAM,CAACkD,QAAvB;AAAiC,IAAA,OAAO,EAAE,MAAM7B,eAAe,CAAC,GAAD;AAA/D,sBAFJ,EAIE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAErB,MAAM,CAACkD;AAAvB,wBADF,CAJF,EAOE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,yBADF,CAPF,EAUE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,qBADF,CAVF,EAaE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,2BADF,CAbF,EAgBE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,4BADF,CAhBF,EAmBE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,uBADF,CAnBF,CAbF,EAoCE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACmD;AAAvB,KAIGpC,IAAI,GACHkB,YAAY,EADT,GAGH;AAAQ,IAAA,SAAS,EAAEjC,MAAM,CAACoD;AAA1B,KACE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACqD,KAAvB;AAA8B,IAAA,OAAO,EAAEjC;AAAvC,KACE;AAAK,IAAA,SAAS,EAAEpB,MAAM,CAACgC;AAAvB,KACE;AAAK,IAAA,GAAG,EAAC,kBAAT;AAA4B,IAAA,GAAG,EAAC;AAAhC,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAEhC,MAAM,CAAC+B;AAAvB,gCAJF,CADF,CAPJ,CApCF,CADF;;AA4DA,QAAMuB,uBAAuB,GAAG,MAC9B;AAAQ,IAAA,SAAS,EAAEtD,MAAM,CAAC6C;AAA1B,KACE;AAAK,IAAA,SAAS,EAAE7C,MAAM,CAACuD;AAAvB,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAEvD,MAAM,CAAC8C;AAAvB,KACE;AAAK,IAAA,SAAS,EAAE9C,MAAM,CAAC+C;AAAvB,KACE;AAAK,IAAA,GAAG,EAAC,iBAAT;AAA2B,IAAA,GAAG,EAAC;AAA/B,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAE/C,MAAM,CAAC+B;AAAvB,KACE;AAAK,IAAA,SAAS,EAAE/B,MAAM,CAACyC;AAAvB,4BADF,EAEE;AAAK,IAAA,SAAS,EAAEzC,MAAM,CAACgD;AAAvB,yCAFF,CAJF,CADF,CADF,EAYE;AAAK,IAAA,SAAS,EAAEhD,MAAM,CAACmD;AAAvB,KAIGpC,IAAI,GACHkB,YAAY,EADT,GAGH;AAAK,IAAA,SAAS,EAAEjC,MAAM,CAACoD;AAAvB,KACE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACqD,KAAvB;AAA8B,IAAA,OAAO,EAAEjC;AAAvC,KACE;AAAK,IAAA,SAAS,EAAEpB,MAAM,CAACgC;AAAvB,KACE;AAAK,IAAA,GAAG,EAAC,kBAAT;AAA4B,IAAA,GAAG,EAAC;AAAhC,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAEhC,MAAM,CAAC+B;AAAvB,gCAJF,CADF,CAPJ,CAZF,CADF,EAkCE;AAAK,IAAA,SAAS,EAAE/B,MAAM,CAACiD;AAAvB,KACE,MAAC,QAAD;AAAU,IAAA,SAAS,EAAEjD,MAAM,CAACkC,IAA5B;AAAkC,IAAA,KAAK,EAAE;AAAEsB,MAAAA,OAAO,EAAE;AAAX;AAAzC,KACE,MAAC,KAAD;AAAO,IAAA,MAAM,EAAE3B,aAAa,EAA5B;AAAgC,IAAA,GAAG,EAAC,GAApC;AAAwC,IAAA,SAAS,EAAE,KAAnD;AAA0D,IAAA,KAAK,EAAE;AAAE2B,MAAAA,OAAO,EAAE;AAAX;AAAjE,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAExD,MAAM,CAACkD;AAAvB,sBADF,CADF,EAIE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,wBADF,CAJF,EAOE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,yBADF,CAPF,EAUE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,qBADF,CAVF,EAaE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,2BADF,CAbF,EAgBE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,4BADF,CAhBF,EAmBE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACkD;AAAvB,uBADF,CAnBF,CADF,CADF,CAlCF,CADF;;AAiEAnD,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE,MAAC,QAAD,QACGU,aAAa,IAAIsC,uBAAuB,EAD3C,EAEGpC,mBAAmB,IAAI0B,6BAA6B,EAFvD,CADF;AAMD;;AAED,MAAMa,eAAe,GAAIC,KAAD,KAAiB;AACvC3C,EAAAA,IAAI,EAAE2C,KAAK,CAACC,KAAN,CAAYC;AADqB,CAAjB,CAAxB;;AAIA,eAAexD,OAAO,CAACqD,eAAD,EAAkB;AAAEpD,EAAAA,mBAAF;AAAuBC,EAAAA,OAAvB;AAAgCC,EAAAA;AAAhC,CAAlB,CAAP,CAAuEO,MAAvE,CAAf","sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst { Panel } = Collapse;\nimport { useRouter } from 'next/router'\n\ninterface Props {\n  toggleRegisterLogin(isOpen: boolean, status: string): void;\n  user: any;\n  getUser: any;\n  logOutUser: any;\n}\n\nfunction Header({ toggleRegisterLogin, user, getUser, logOutUser }: Props) {\n  const isSmallDevice: boolean = useMediaQuery({ query: '(max-width: 767px)' });\n  const isMediumLargeDevice: boolean = useMediaQuery({\n    query: '(min-width: 768px)',\n  });\n\n  const router = useRouter()\n\n  const handleOpenLogin = (): void => {\n    toggleRegisterLogin(true, 'login');\n  };\n\n  const handleLinkClick = (link: string) => {\n    router.push(link);\n  }\n\n  // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n  const handleLogOut = () => {\n    logOutUser();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  };\n\n  const renderTopMenu = () => (\n    <div className={styles.topMenu}>\n      <div className={styles.text}>MENU</div>\n      <div className={styles.icon}>\n        <img src=\"/icons/menu.svg\" alt=\"menu-icon\" />\n      </div>\n    </div>\n  );\n\n  const renderAvatar = () => {\n    const menu = (\n      <Menu>\n        <Menu.Item>\n          <div className={styles.logOut} style={{ textAlign: 'center' }} onClick={handleLogOut}>\n            Đăng xuất\n          </div>\n        </Menu.Item>\n      </Menu>\n    );\n\n    const setAvatar = () => {\n      if (user.avatar) {\n        return <Avatar src=\"/api/user/avatar\" />;\n      } else if (user.thirdPartyAvatar) {\n        return <Avatar src={user.thirdPartyAvatar} />;\n      } else if (!user.avatar) {\n        return <Avatar className={styles.avatarName}>{user.name[0]}</Avatar>;\n      }\n    };\n    \n   \n\n    return (\n      <div className={styles.avatarWrapper}>\n        <div className={styles.avatar}>{setAvatar()}</div>\n        <div className={styles.down}>\n          <Dropdown overlay={menu} placement=\"bottomCenter\" trigger={['click']}>\n            <ExpandMoreIcon />\n          </Dropdown>\n        </div>\n      </div>\n    );\n  };\n\n  const renderMediumLargeDeviceLayout = () => (\n    <header className={styles.header}>\n      {/* <h1>large</h1> */}\n      <Link href=\"/\">\n        <div className={styles.logo}>\n          <div className={styles.logoWrapper}>\n            <img src=\"/icons/logo.svg\" alt=\"logo\" />\n          </div>\n          <div className={styles.text}>\n            <div className={styles.name}>PHƯƠNG NAM</div>\n            <div className={styles.slogan}>Thách Thức Thời Gian</div>\n          </div>\n        </div>\n      </Link>\n      <div className={styles.menuWrapper}>\n        {/* <Link href=\"/\"> */}\n          <div className={styles.menuItem} onClick={() => handleLinkClick('/')}>Trang Chủ</div>\n        {/* </Link>  */}\n        <Link href=\"/cua-hang\">\n          <div className={styles.menuItem}>Cửa Hàng</div>\n        </Link>\n        <Link href=\"/dich-vu\">\n          <div className={styles.menuItem}>Dịch Vụ</div>\n        </Link>\n        <Link href=\"/du-an\">\n          <div className={styles.menuItem}>Dự Án</div>\n        </Link>\n        <Link href=\"/kien-thuc\">\n          <div className={styles.menuItem}>Kiến Thức</div>\n        </Link>\n        <Link href=\"/gioi-thieu\">\n          <div className={styles.menuItem}>Giới Thiệu</div>\n        </Link>\n        <Link href=\"/lien-he\">\n          <div className={styles.menuItem}>Liên Hệ</div>\n        </Link>\n      </div>\n      <div className={styles.right}>\n        {/* <div className={styles.cart}>\n          <img src=\"/icons/shopping-cart.svg\" alt=\"cart\" />\n        </div> */}\n        {user ? (\n          renderAvatar()\n        ) : (\n          <header className={styles.loginRegister}>\n            <div className={styles.login} onClick={handleOpenLogin}>\n              <div className={styles.icon}>\n                <img src=\"/icons/login.svg\" alt=\"login\"/>\n              </div>\n              <div className={styles.text}>ĐĂNG NHẬP</div>\n            </div>\n            {/* <div className={styles.register} onClick={handleOpenRegister}>\n              hoặc <span>đăng ký</span>\n            </div> */}\n          </header>\n        )}\n      </div>\n    </header>\n  );\n\n  const renderSmallDeviceLayout = () => (\n    <header className={styles.header}>\n      <div className={styles.top}>\n        <Link href=\"/\">\n          <div className={styles.logo}>\n            <div className={styles.logoWrapper}>\n              <img src=\"/icons/logo.svg\" alt=\"logo\" />\n            </div>\n            <div className={styles.text}>\n              <div className={styles.name}>PHƯƠNG NAM</div>\n              <div className={styles.slogan}>Thách Thức Thời Gian</div>\n            </div>\n          </div>\n        </Link>\n        <div className={styles.right}>\n          {/* <div className={styles.cart}>\n            <img src=\"/icons/shopping-cart.svg\" alt=\"cart\" />\n          </div> */}\n          {user ? (\n            renderAvatar()\n          ) : (\n            <div className={styles.loginRegister}>\n              <div className={styles.login} onClick={handleOpenLogin}>\n                <div className={styles.icon}>\n                  <img src=\"/icons/login.svg\" alt=\"login\"/>\n                </div>\n                <div className={styles.text}>ĐĂNG NHẬP</div>\n              </div>\n              {/* <div className={styles.register} onClick={handleOpenRegister}>\n                hoặc <span>đăng ký</span>\n              </div> */}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={styles.menuWrapper}>\n        <Collapse className={styles.menu} style={{ padding: '0' }}>\n          <Panel header={renderTopMenu()} key=\"1\" showArrow={false} style={{ padding: '0' }}>\n            <Link href=\"/\">\n              <div className={styles.menuItem}>Trang Chủ</div>\n            </Link>\n            <Link href=\"/cua-hang\">\n              <div className={styles.menuItem}>Cửa Hàng</div>\n            </Link>\n            <Link href=\"/dich-vu\">\n              <div className={styles.menuItem}>Dịch Vụ</div>\n            </Link>\n            <Link href=\"/du-an\">\n              <div className={styles.menuItem}>Dự Án</div>\n            </Link>\n            <Link href=\"/kien-thuc\">\n              <div className={styles.menuItem}>Kiến Thức</div>\n            </Link>\n            <Link href=\"/gioi-thieu\">\n              <div className={styles.menuItem}>Giới Thiệu</div>\n            </Link>\n            <Link href=\"/lien-he\">\n              <div className={styles.menuItem}>Liên Hệ</div>\n            </Link>\n          </Panel>\n        </Collapse>\n      </div>\n    </header>\n  );\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  return (\n    <Fragment>\n      {isSmallDevice && renderSmallDeviceLayout()}\n      {isMediumLargeDevice && renderMediumLargeDeviceLayout()}\n    </Fragment>\n  );\n}\n\nconst mapStateToProps = (state: any) => ({\n  user: state.users.data,\n});\n\nexport default connect(mapStateToProps, { toggleRegisterLogin, getUser, logOutUser })(Header);\n"]},"metadata":{},"sourceType":"module"}