{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styles from './Other.module.scss';\nimport { connect } from 'react-redux';\nimport { getSiteInfo, getSiteCarousel, updateSiteCarousel, updateSiteInfo } from 'redux/actions/admins';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nfunction AdminOthers({\n  carousels,\n  siteInfos,\n  updateSiteCarousel,\n  getSiteInfo,\n  getSiteCarousel,\n  updateSiteInfo\n}) {\n  const {\n    0: carouselLoading,\n    1: setCarouselLoading\n  } = useState(true);\n  const {\n    0: siteInfoLoading,\n    1: setSiteInfoLoading\n  } = useState(true);\n  const {\n    0: carouseIndex,\n    1: setCarouselIndex\n  } = useState(0);\n  useEffect(() => {\n    getSiteInfo();\n    getSiteCarousel();\n  }, []);\n  useEffect(() => {\n    if (carousels) {\n      setCarouselLoading(false);\n    }\n  }, [carousels]);\n  useEffect(() => {\n    if (siteInfos) {\n      setSiteInfoLoading(false);\n    }\n  }, [siteInfos]);\n\n  const handleUploadCarousel = e => {\n    // console.log(e.target.files)c\n    // console.log(index)\n    updateSiteCarousel({\n      key: carouseIndex,\n      data: e.target.files[0]\n    });\n    setCarouselLoading(true);\n  };\n\n  const handleSetIndex = index => {\n    setCarouselIndex(index);\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault(); // console.log(e)\n    // @ts-ignore\n\n    const address = document.getElementById('address').value; // @ts-ignore\n\n    const zalo = document.getElementById('zalo').value; // @ts-ignore\n\n    const facebook = document.getElementById('facebook').value; // @ts-ignore\n\n    const phone = document.getElementById('phone').value; // @ts-ignore\n\n    const gmail = document.getElementById('gmail').value;\n    console.log(address, zalo, facebook, phone, gmail);\n    updateSiteInfo({\n      infos: {\n        address,\n        zalo,\n        facebook,\n        phone,\n        gmail\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: styles.contentWrapper\n  }, __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"H\\xECnh \\u1EA3nh b\\u0103ng chuy\\u1EC1n\"), !carouselLoading ? Object.values(carousels).map((item, index) => __jsx(\"div\", {\n    className: styles.carouselItem,\n    key: index\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"\\u1EA2nh \", index + 1), __jsx(\"div\", {\n    className: styles.img\n  }, __jsx(\"img\", {\n    src: `data:${item.contentType};base64,${Buffer.from(item.data)}`,\n    alt: \"Thi c\\xF4ng s\\u01A1n epoxy, s\\u01A1n n\\u1EC1n nh\\xE0 x\\u01B0\\u1EDFng hcm\"\n  })), __jsx(\"div\", {\n    className: styles.input\n  }, __jsx(\"label\", {\n    htmlFor: \"carousel-upload\",\n    onClick: () => handleSetIndex(index)\n  }, \"Thay \\u0111\\u1ED5i \\u1EA3nh\"), __jsx(\"input\", {\n    type: \"file\",\n    name: \"img\",\n    accept: \"image/*\",\n    id: \"carousel-upload\",\n    hidden: true,\n    onChange: e => handleUploadCarousel(e)\n  })))) : __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null))), __jsx(\"div\", {\n    className: styles.item,\n    style: {\n      marginTop: '5em'\n    }\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"Th\\xF4ng tin li\\xEAn h\\u1EC7\"), siteInfoLoading ? __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null)) : __jsx(\"form\", {\n    onSubmit: e => handleSubmitForm(e),\n    id: \"site-info\"\n  }, __jsx(\"div\", {\n    className: styles.formItem\n  }, console.log(siteInfos), __jsx(\"div\", {\n    className: styles.name\n  }, \"\\u0110\\u1ECBa ch\\u1EC9:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.address,\n    id: \"address\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Facebook:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.facebook,\n    id: \"facebook\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Zalo:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.zalo,\n    id: \"zalo\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Gmail:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.gmail,\n    id: \"gmail\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Di \\u0111\\u1ED9ng:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.phone,\n    id: \"phone\"\n  })), __jsx(Button, {\n    variant: \"contained\",\n    style: {\n      backgroundColor: '#318fb5',\n      color: 'white'\n    },\n    form: \"site-info\",\n    type: \"submit\"\n  }, \"C\\u1EADp nh\\u1EADt\"))));\n}\n\nconst mapStateToProps = state => ({\n  carousels: state.admins.carousels,\n  siteInfos: state.admins.siteInfos\n});\n\nexport default connect(mapStateToProps, {\n  getSiteInfo,\n  updateSiteCarousel,\n  getSiteCarousel,\n  updateSiteInfo\n})(AdminOthers);","map":null,"metadata":{},"sourceType":"module"}