{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport MainLayout from 'layouts/MainLayout';\nimport axios from 'config/axios';\nimport GreenBackground from 'components/GreenBackground';\nimport Projects from 'components/Projects';\nimport Pagination from '@material-ui/lab/Pagination';\nexport default function Service({\n  siteInfo,\n  projects,\n  range\n}) {\n  const {\n    0: items,\n    1: setItems\n  } = useState(projects);\n  const count = Math.floor(range / 9 + 1); // @ts-ignore\n\n  const handlePagination = async (e, value) => {\n    if (value > 1) {\n      const newItems = await axios.get(`/posts?type=project&limit=9&sortBy=createdAt&order=desc&skip=${(value - 1) * 9}`);\n      setItems(newItems.data.posts);\n    } else {\n      setItems(projects);\n    }\n  };\n\n  return __jsx(MainLayout, {\n    title: \"D\\u1EF1 \\xE1n | S\\u01A1n Ph\\u01B0\\u01A1ng Nam\",\n    contacts: siteInfo\n  }, __jsx(GreenBackground, {\n    name: \"D\\u1EF1 \\xE1n\",\n    breadcrumb: \"Trang ch\\u1EE7 / D\\u1EF1 \\xE1n\"\n  }), __jsx(\"div\", {\n    style: {\n      height: '3rem'\n    }\n  }), __jsx(Projects, {\n    projects: items,\n    disableTitle: true,\n    disableLoadMore: true\n  }), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    }\n  }, __jsx(Pagination, {\n    count: count,\n    color: \"secondary\",\n    onChange: handlePagination\n  })));\n}\nexport async function getStaticProps() {\n  const siteInfo = await axios.get('/site/info');\n  const projects = await axios.get('/posts?type=project&limit=9&sortBy=createdAt&order=desc');\n  const range = await axios.get('/postrange?type=project');\n  return {\n    props: {\n      siteInfo: siteInfo.data.site.siteInfo,\n      projects: projects.data.posts,\n      range: range.data.range\n    },\n    revalidate: 1\n  };\n}","map":null,"metadata":{},"sourceType":"module"}