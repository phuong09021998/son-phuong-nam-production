{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(loginUser),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(watchLoginUser),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(getUser),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(watchGetUsersRequest),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(createUser),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(loginByGoogle),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(watchCreateUser),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(watchLoginByGoogle),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(logOutUser),\n    _marked10 = /*#__PURE__*/_regeneratorRuntime.mark(watchLogOutUser),\n    _marked11 = /*#__PURE__*/_regeneratorRuntime.mark(loginByFacebook),\n    _marked12 = /*#__PURE__*/_regeneratorRuntime.mark(watchLoginByFacebook);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { takeLatest, takeEvery, call, put, fork } from 'redux-saga/effects';\nimport * as actions from '../actions/users';\nimport * as api from '../api/users';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction loginUser(_ref) {\n  var payload, result, errorData;\n  return _regeneratorRuntime.wrap(function loginUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          payload = _ref.payload;\n          _context.prev = 1;\n          _context.next = 4;\n          return call(api.loginUser, payload);\n\n        case 4:\n          result = _context.sent;\n          _context.next = 7;\n          return put(actions.getUserSuccess(_objectSpread({}, result.data.user)));\n\n        case 7:\n          _context.next = 29;\n          break;\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](1);\n          errorData = _context.t0.response.data;\n\n          if (!(errorData.error === 'Password is incorrect.')) {\n            _context.next = 17;\n            break;\n          }\n\n          _context.next = 15;\n          return put(actions.loginUserError({\n            error: 'Sai mật khẩu' + uuidv4()\n          }));\n\n        case 15:\n          _context.next = 29;\n          break;\n\n        case 17:\n          if (!(errorData.error === 'User not found.')) {\n            _context.next = 22;\n            break;\n          }\n\n          _context.next = 20;\n          return put(actions.loginUserError({\n            error: 'Không tìm thấy người dùng' + uuidv4()\n          }));\n\n        case 20:\n          _context.next = 29;\n          break;\n\n        case 22:\n          if (!(errorData.error === 'Cannot use normal login.')) {\n            _context.next = 27;\n            break;\n          }\n\n          _context.next = 25;\n          return put(actions.loginUserError({\n            error: 'Không thể đăng nhập bằng cách này' + uuidv4()\n          }));\n\n        case 25:\n          _context.next = 29;\n          break;\n\n        case 27:\n          _context.next = 29;\n          return put(actions.loginUserError({\n            error: errorData.error\n          }));\n\n        case 29:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 9]]);\n}\n\nfunction watchLoginUser() {\n  return _regeneratorRuntime.wrap(function watchLoginUser$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(actions.Types.LOGIN_USER, loginUser);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction getUser() {\n  var result;\n  return _regeneratorRuntime.wrap(function getUser$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(api.getUser);\n\n        case 3:\n          result = _context3.sent;\n          _context3.next = 6;\n          return put(actions.getUserSuccess(_objectSpread({}, result.data.user)));\n\n        case 6:\n          _context3.next = 12;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 12;\n          return put(actions.getUserError());\n\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 8]]);\n}\n\nfunction watchGetUsersRequest() {\n  return _regeneratorRuntime.wrap(function watchGetUsersRequest$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeEvery(actions.Types.GET_USER, getUser);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction createUser(_ref2) {\n  var payload, result;\n  return _regeneratorRuntime.wrap(function createUser$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return call(api.createUser, payload);\n\n        case 4:\n          result = _context5.sent;\n          _context5.next = 7;\n          return put(actions.getUserSuccess(_objectSpread({}, result.data.user)));\n\n        case 7:\n          _context5.next = 12;\n          break;\n\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.log(_context5.t0.response);\n\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[1, 9]]);\n}\n\nfunction loginByGoogle(_ref3) {\n  var payload, result, errorData;\n  return _regeneratorRuntime.wrap(function loginByGoogle$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          payload = _ref3.payload;\n          _context6.prev = 1;\n          _context6.next = 4;\n          return call(api.loginByGoogle, payload);\n\n        case 4:\n          result = _context6.sent;\n          _context6.next = 7;\n          return put(actions.getUserSuccess(_objectSpread({}, result.data.user)));\n\n        case 7:\n          _context6.next = 19;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6[\"catch\"](1);\n          errorData = _context6.t0.response.data;\n\n          if (!(errorData.error === 'Email is already in use.')) {\n            _context6.next = 17;\n            break;\n          }\n\n          _context6.next = 15;\n          return put(actions.loginByGoogleError({\n            error: 'Email đã tồn tại'\n          }));\n\n        case 15:\n          _context6.next = 19;\n          break;\n\n        case 17:\n          _context6.next = 19;\n          return put(actions.loginByGoogleError({\n            error: 'Lỗi bất ngờ đã xảy ra'\n          }));\n\n        case 19:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[1, 9]]);\n}\n\nfunction watchCreateUser() {\n  return _regeneratorRuntime.wrap(function watchCreateUser$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return takeLatest(actions.Types.CREATE_USER, createUser);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7);\n}\n\nfunction watchLoginByGoogle() {\n  return _regeneratorRuntime.wrap(function watchLoginByGoogle$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(actions.Types.LOGIN_BY_GOOGLE, loginByGoogle);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nfunction logOutUser() {\n  return _regeneratorRuntime.wrap(function logOutUser$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return call(api.logoutUser);\n\n        case 2:\n          _context9.next = 4;\n          return call(getUser);\n\n        case 4:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9);\n}\n\nfunction watchLogOutUser() {\n  return _regeneratorRuntime.wrap(function watchLogOutUser$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest(actions.Types.LOG_OUT_USER, logOutUser);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}\n\nfunction loginByFacebook(_ref4) {\n  var payload, result, errorData;\n  return _regeneratorRuntime.wrap(function loginByFacebook$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          payload = _ref4.payload;\n          _context11.prev = 1;\n          _context11.next = 4;\n          return call(api.loginByFacebook, payload);\n\n        case 4:\n          result = _context11.sent;\n          _context11.next = 7;\n          return put(actions.getUserSuccess(_objectSpread({}, result.data.user)));\n\n        case 7:\n          _context11.next = 19;\n          break;\n\n        case 9:\n          _context11.prev = 9;\n          _context11.t0 = _context11[\"catch\"](1);\n          errorData = _context11.t0.response.data;\n\n          if (!(errorData.error === 'Email is already in use.')) {\n            _context11.next = 17;\n            break;\n          }\n\n          _context11.next = 15;\n          return put(actions.loginByFacebookError({\n            error: 'Email đã tồn tại'\n          }));\n\n        case 15:\n          _context11.next = 19;\n          break;\n\n        case 17:\n          _context11.next = 19;\n          return put(actions.loginByFacebookError({\n            error: 'Lỗi bất ngờ đã xảy ra'\n          }));\n\n        case 19:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11, null, [[1, 9]]);\n}\n\nfunction watchLoginByFacebook() {\n  return _regeneratorRuntime.wrap(function watchLoginByFacebook$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return takeLatest(actions.Types.LOGIN_BY_FACEBOOK, loginByFacebook);\n\n        case 2:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12);\n}\n\nvar userSagas = [fork(watchLoginUser), fork(watchGetUsersRequest), fork(watchCreateUser), fork(watchLoginByGoogle), fork(watchLogOutUser), fork(watchLoginByFacebook)];\nexport default userSagas;","map":{"version":3,"sources":["/media/robert/DATA/Work/web-project/phuong-nam/src-code/redux/sagas/users.ts"],"names":["loginUser","watchLoginUser","getUser","watchGetUsersRequest","createUser","loginByGoogle","watchCreateUser","watchLoginByGoogle","logOutUser","watchLogOutUser","loginByFacebook","watchLoginByFacebook","takeLatest","takeEvery","call","put","fork","actions","api","v4","uuidv4","payload","result","getUserSuccess","data","user","errorData","response","error","loginUserError","Types","LOGIN_USER","getUserError","GET_USER","console","log","loginByGoogleError","CREATE_USER","LOGIN_BY_GOOGLE","logoutUser","LOG_OUT_USER","loginByFacebookError","LOGIN_BY_FACEBOOK","userSagas"],"mappings":"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","sourcesContent":["import { takeLatest, takeEvery, call, put, fork } from 'redux-saga/effects';\nimport * as actions from '../actions/users';\nimport * as api from '../api/users';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface LoginUser {\n  type: string;\n  payload: {\n    email: string;\n    password: string;\n  };\n}\n\nfunction* loginUser({ payload }: LoginUser) {\n  try {\n    const result = yield call(api.loginUser, payload);\n    yield put(actions.getUserSuccess({ ...result.data.user }));\n  } catch (error) {\n    const errorData = error.response.data;\n    if (errorData.error === 'Password is incorrect.') {\n      yield put(actions.loginUserError({ error: 'Sai mật khẩu' + uuidv4() }));\n    } else if (errorData.error === 'User not found.') {\n      yield put(actions.loginUserError({ error: 'Không tìm thấy người dùng' + uuidv4() }));\n    } else if (errorData.error === 'Cannot use normal login.') {\n      yield put(actions.loginUserError({ error: 'Không thể đăng nhập bằng cách này' + uuidv4() }));\n    } else {\n      yield put(actions.loginUserError({ error: errorData.error }));\n    }\n  }\n}\n\nfunction* watchLoginUser() {\n  yield takeLatest(actions.Types.LOGIN_USER, loginUser);\n}\n\nfunction* getUser() {\n  try {\n    const result = yield call(api.getUser);\n    yield put(actions.getUserSuccess({ ...result.data.user }));\n  } catch (e) {\n    // yield put(actions.getUserSuccess({ ...result.data.user }));\n    yield put(actions.getUserError());\n  }\n}\n\nfunction* watchGetUsersRequest() {\n  yield takeEvery(actions.Types.GET_USER, getUser);\n}\n\nfunction* createUser({ payload }: any) {\n  try {\n    const result = yield call(api.createUser, payload);\n    yield put(actions.getUserSuccess({ ...result.data.user }));\n  } catch (error) {\n    console.log(error.response);\n  }\n}\n\nfunction* loginByGoogle({ payload }: any) {\n  try {\n    const result = yield call(api.loginByGoogle, payload);\n    yield put(actions.getUserSuccess({ ...result.data.user }));\n  } catch (error) {\n    const errorData = error.response.data;\n    if (errorData.error === 'Email is already in use.') {\n      yield put(actions.loginByGoogleError({ error: 'Email đã tồn tại' }));\n    } else {\n      yield put(actions.loginByGoogleError({ error: 'Lỗi bất ngờ đã xảy ra' }));\n    }\n  }\n}\n\nfunction* watchCreateUser() {\n  yield takeLatest(actions.Types.CREATE_USER, createUser);\n}\n\nfunction* watchLoginByGoogle() {\n  yield takeLatest(actions.Types.LOGIN_BY_GOOGLE, loginByGoogle);\n}\n\nfunction* logOutUser() {\n  yield call(api.logoutUser);\n  yield call(getUser);\n}\n\nfunction* watchLogOutUser() {\n  yield takeLatest(actions.Types.LOG_OUT_USER, logOutUser);\n}\n\nfunction* loginByFacebook({ payload }: any) {\n  try {\n    const result = yield call(api.loginByFacebook, payload);\n    yield put(actions.getUserSuccess({ ...result.data.user }));\n  } catch (error) {\n    const errorData = error.response.data;\n    if (errorData.error === 'Email is already in use.') {\n      yield put(actions.loginByFacebookError({ error: 'Email đã tồn tại' }));\n    } else {\n      yield put(actions.loginByFacebookError({ error: 'Lỗi bất ngờ đã xảy ra' }));\n    }\n  }\n}\n\nfunction* watchLoginByFacebook() {\n  yield takeLatest(actions.Types.LOGIN_BY_FACEBOOK, loginByFacebook);\n}\n\nconst userSagas = [\n  fork(watchLoginUser),\n  fork(watchGetUsersRequest),\n  fork(watchCreateUser),\n  fork(watchLoginByGoogle),\n  fork(watchLogOutUser),\n  fork(watchLoginByFacebook),\n];\n\nexport default userSagas;\n"]},"metadata":{},"sourceType":"module"}