{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport axios from 'config/axios';\nimport MainLayout from 'layouts/MainLayout';\nimport GreenBackground from 'components/GreenBackground';\nimport Modal from 'react-modal';\nimport styles from './ProductDetail.module.scss';\nimport Button from '@material-ui/core/Button';\nimport Link from 'next/link'; // @ts-ignore\n\nimport currencyFormatter from 'currency-formatter';\nimport { toggleChatBubble } from 'redux/actions/ui';\nimport { connect } from 'react-redux';\n\nfunction ShopItem({\n  productData,\n  siteInfo,\n  toggleChatBubble\n}) {\n  const {\n    0: openModal,\n    1: setOpenModal\n  } = useState(false);\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      maxWidth: '60rem',\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alightItems: 'center',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      padding: '3em'\n    }\n  };\n\n  const closeModal = () => {\n    setOpenModal(false);\n  };\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleOpenChat = () => {\n    toggleChatBubble(true);\n  }; // console.log(productData);\n\n\n  return __jsx(MainLayout, {\n    title: productData.name,\n    contacts: siteInfo\n  }, __jsx(GreenBackground, {\n    name: \"C\\u1EEDa h\\xE0ng\",\n    breadcrumb: `Trang chủ / Cửa hàng / ${productData.name}`\n  }), __jsx(\"div\", {\n    className: styles.productWrapper\n  }, __jsx(\"div\", {\n    className: styles.imgWrapper\n  }, __jsx(\"div\", {\n    className: styles.tagWrapper\n  }, productData.salePrice && __jsx(\"div\", {\n    className: styles.saleTag\n  }, \"Sale !\"), !productData.available && __jsx(\"div\", {\n    className: styles.soldOut\n  }, \"H\\u1EBFt h\\xE0ng !\")), __jsx(\"div\", {\n    className: styles.zoom,\n    onClick: handleOpenModal\n  }, __jsx(\"img\", {\n    src: \"/icons/search.svg\",\n    alt: \"zoom\"\n  })), __jsx(\"div\", {\n    className: styles.img\n  }, __jsx(\"img\", {\n    src: `/api/product/image/${productData.urlTitle}`,\n    alt: productData.urlTitle\n  }))), __jsx(\"div\", {\n    className: styles.info\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, productData.name), __jsx(\"div\", {\n    className: styles.priceWrapper\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \" Gi\\xE1:\"), __jsx(\"div\", {\n    className: styles.price\n  }, productData.salePrice && __jsx(\"span\", null, currencyFormatter.format(productData.price, {\n    code: 'VND'\n  })), ' ', productData.salePrice ? currencyFormatter.format(productData.salePrice, {\n    code: 'VND'\n  }) : currencyFormatter.format(productData.price, {\n    code: 'VND'\n  }))), __jsx(\"div\", {\n    className: styles.addToCartButton\n  }, __jsx(Button, {\n    style: {\n      backgroundColor: `${productData.available ? '#e91e63' : 'gray'}`,\n      textTransform: 'uppercase',\n      fontWeight: 'bold',\n      color: 'white'\n    },\n    disabled: productData.available ? false : true,\n    className: styles.button,\n    onClick: () => handleOpenChat()\n  }, \"LI\\xCAN H\\u1EC6\", __jsx(\"div\", {\n    className: styles.icon\n  }, __jsx(\"img\", {\n    src: \"/icons/live-chat.svg\",\n    alt: \"chat\"\n  })))))), __jsx(\"div\", {\n    className: styles.backToShopButton\n  }, __jsx(Link, {\n    href: \"/cua-hang\"\n  }, __jsx(Button, {\n    style: {\n      backgroundColor: ' #e91e63',\n      textTransform: 'uppercase',\n      fontWeight: 'bold',\n      color: 'white'\n    }\n  }, \"Quay l\\u1EA1i c\\u1EEDa h\\xE0ng\"))), __jsx(Modal, {\n    isOpen: openModal,\n    onRequestClose: closeModal,\n    style: customStyles,\n    contentLabel: \"Example Modal\"\n  }, __jsx(\"img\", {\n    src: `/api/product/image/${productData.urlTitle}`,\n    alt: productData.urlTitle\n  }), __jsx(\"div\", {\n    className: styles.closeModal,\n    onClick: closeModal\n  }, __jsx(\"img\", {\n    src: \"/icons/close-2.svg\",\n    alt: \"close\"\n  }))));\n}\n\nexport async function getStaticPaths() {\n  const paths = await axios.get('/producturls'); // console.log(paths.data.paths);\n\n  return {\n    paths: paths.data.paths,\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const productData = await axios.get(`/product/${params.id}`);\n  const siteInfo = await axios.get('/site/info');\n  return {\n    props: {\n      productData: productData.data.product,\n      siteInfo: siteInfo.data.site.siteInfo\n    },\n    revalidate: 1\n  };\n}\nexport default connect(null, {\n  toggleChatBubble\n})(ShopItem);","map":null,"metadata":{},"sourceType":"module"}