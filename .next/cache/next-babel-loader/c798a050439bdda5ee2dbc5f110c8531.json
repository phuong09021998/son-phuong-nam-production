{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styles from './Other.module.scss';\nimport { connect } from 'react-redux';\nimport { getSiteInfo, getSiteCarousel, updateSiteCarousel, updateSiteInfo } from 'redux/actions/admins';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nfunction AdminOthers({\n  carousels,\n  siteInfos,\n  updateSiteCarousel,\n  getSiteInfo,\n  getSiteCarousel,\n  updateSiteInfo\n}) {\n  const {\n    0: carouselLoading,\n    1: setCarouselLoading\n  } = useState(true);\n  const {\n    0: siteInfoLoading,\n    1: setSiteInfoLoading\n  } = useState(true);\n  const {\n    0: carouseIndex,\n    1: setCarouselIndex\n  } = useState(0);\n  useEffect(() => {\n    getSiteInfo();\n    getSiteCarousel();\n  }, []);\n  useEffect(() => {\n    if (carousels) {\n      setCarouselLoading(false);\n    }\n  }, [carousels]);\n  useEffect(() => {\n    if (siteInfos) {\n      setSiteInfoLoading(false);\n    }\n  }, [siteInfos]);\n\n  const handleUploadCarousel = e => {\n    // console.log(e.target.files)c\n    // console.log(index)\n    updateSiteCarousel({\n      key: carouseIndex,\n      data: e.target.files[0]\n    });\n    setCarouselLoading(true);\n  };\n\n  const handleSetIndex = index => {\n    setCarouselIndex(index);\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault(); // console.log(e)\n    // @ts-ignore\n\n    const address = document.getElementById('address').value; // @ts-ignore\n\n    const zalo = document.getElementById('zalo').value; // @ts-ignore\n\n    const facebook = document.getElementById('facebook').value; // @ts-ignore\n\n    const phone = document.getElementById('phone').value; // @ts-ignore\n\n    const gmail = document.getElementById('gmail').value;\n    console.log(address, zalo, facebook, phone, gmail);\n    updateSiteInfo({\n      infos: {\n        address,\n        zalo,\n        facebook,\n        phone,\n        gmail\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: styles.contentWrapper\n  }, __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"H\\xECnh \\u1EA3nh b\\u0103ng chuy\\u1EC1n\"), !carouselLoading ? Object.values(carousels).map((item, index) => __jsx(\"div\", {\n    className: styles.carouselItem,\n    key: index\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"\\u1EA2nh \", index + 1), __jsx(\"div\", {\n    className: styles.img\n  }, __jsx(\"img\", {\n    src: `data:${item.contentType};base64,${Buffer.from(item.data)}`,\n    alt: \"Thi c\\xF4ng s\\u01A1n epoxy, s\\u01A1n n\\u1EC1n nh\\xE0 x\\u01B0\\u1EDFng hcm\"\n  })), __jsx(\"div\", {\n    className: styles.input\n  }, __jsx(\"label\", {\n    htmlFor: \"carousel-upload\",\n    onClick: () => handleSetIndex(index)\n  }, \"Thay \\u0111\\u1ED5i \\u1EA3nh\"), __jsx(\"input\", {\n    type: \"file\",\n    name: \"img\",\n    accept: \"image/*\",\n    id: \"carousel-upload\",\n    hidden: true,\n    onChange: e => handleUploadCarousel(e)\n  })))) : __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null))), __jsx(\"div\", {\n    className: styles.item,\n    style: {\n      marginTop: '5em'\n    }\n  }, __jsx(\"div\", {\n    className: styles.title\n  }, \"Th\\xF4ng tin li\\xEAn h\\u1EC7\"), siteInfoLoading ? __jsx(\"div\", {\n    className: styles.loading\n  }, __jsx(CircularProgress, null)) : __jsx(\"form\", {\n    onSubmit: e => handleSubmitForm(e),\n    id: \"site-info\"\n  }, __jsx(\"div\", {\n    className: styles.formItem\n  }, console.log(siteInfos), __jsx(\"div\", {\n    className: styles.name\n  }, \"\\u0110\\u1ECBa ch\\u1EC9:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.address,\n    id: \"address\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Facebook:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.facebook,\n    id: \"facebook\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Zalo:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.zalo,\n    id: \"zalo\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Gmail:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.gmail,\n    id: \"gmail\"\n  })), __jsx(\"div\", {\n    className: styles.formItem\n  }, __jsx(\"div\", {\n    className: styles.name\n  }, \"Di \\u0111\\u1ED9ng:\"), __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: siteInfos.phone,\n    id: \"phone\"\n  })), __jsx(Button, {\n    variant: \"contained\",\n    style: {\n      backgroundColor: '#318fb5',\n      color: 'white'\n    },\n    form: \"site-info\",\n    type: \"submit\"\n  }, \"C\\u1EADp nh\\u1EADt\"))));\n}\n\nconst mapStateToProps = state => ({\n  carousels: state.admins.carousels,\n  siteInfos: state.admins.siteInfos\n});\n\nexport default connect(mapStateToProps, {\n  getSiteInfo,\n  updateSiteCarousel,\n  getSiteCarousel,\n  updateSiteInfo\n})(AdminOthers);","map":{"version":3,"sources":["/media/robert/DATA/Work/web-project/phuong-nam/src-code/components/AdminOthers/index.tsx"],"names":["React","useEffect","useState","styles","connect","getSiteInfo","getSiteCarousel","updateSiteCarousel","updateSiteInfo","CircularProgress","Button","AdminOthers","carousels","siteInfos","carouselLoading","setCarouselLoading","siteInfoLoading","setSiteInfoLoading","carouseIndex","setCarouselIndex","handleUploadCarousel","e","key","data","target","files","handleSetIndex","index","handleSubmitForm","preventDefault","address","document","getElementById","value","zalo","facebook","phone","gmail","console","log","infos","contentWrapper","item","title","Object","values","map","carouselItem","name","img","contentType","Buffer","from","input","loading","marginTop","formItem","backgroundColor","color","mapStateToProps","state","admins"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from './Other.module.scss'\nimport { connect } from 'react-redux'\nimport { getSiteInfo, getSiteCarousel, updateSiteCarousel, updateSiteInfo } from 'redux/actions/admins'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\n\nfunction AdminOthers({ carousels, siteInfos, updateSiteCarousel,getSiteInfo, getSiteCarousel, updateSiteInfo }: any) {\n  \n  const [carouselLoading, setCarouselLoading] = useState(true)\n  const [siteInfoLoading, setSiteInfoLoading] = useState(true)\n  const [carouseIndex, setCarouselIndex] = useState(0)\n\n  useEffect(() => {\n    getSiteInfo()\n    getSiteCarousel()\n  }, [])\n\n  useEffect(() => {\n    if (carousels) {\n      setCarouselLoading(false)\n    }\n  }, [carousels])\n\n  useEffect(() => {\n    if (siteInfos) {\n      setSiteInfoLoading(false)\n    }\n  }, [siteInfos])\n\n  const handleUploadCarousel = (e: any) => {\n    // console.log(e.target.files)c\n    // console.log(index)\n    updateSiteCarousel({key: carouseIndex, data: e.target.files[0]})\n    setCarouselLoading(true)\n  }\n\n  const handleSetIndex = (index: number) => {\n    setCarouselIndex(index)\n  }\n\n  const handleSubmitForm = (e: any) => {\n    e.preventDefault();\n    // console.log(e)\n    // @ts-ignore\n    const address = document.getElementById('address').value\n    // @ts-ignore\n    const zalo = document.getElementById('zalo').value\n    // @ts-ignore\n    const facebook = document.getElementById('facebook').value\n    // @ts-ignore\n    const phone = document.getElementById('phone').value\n    // @ts-ignore\n    const gmail = document.getElementById('gmail').value\n    console.log(address, zalo, facebook, phone, gmail)\n    updateSiteInfo({infos: {address, zalo, facebook, phone, gmail}})\n  }\n\n  return <div className={styles.contentWrapper}>\n    <div className={styles.item}>\n      <div className={styles.title}>\n        Hình ảnh băng chuyền\n      </div>\n      {!carouselLoading ? Object.values(carousels).map((item: any, index: number) => (\n        \n        <div className={styles.carouselItem} key={index}>\n          <div className={styles.name}>Ảnh {index + 1}</div>\n          {/* {console.log(i)} */}\n          <div className={styles.img}>\n            <img src={`data:${item.contentType};base64,${Buffer.from(item.data)}`} alt=\"Thi công sơn epoxy, sơn nền nhà xưởng hcm\" />\n          </div>\n          <div className={styles.input}>\n            {/* @ts-ignore */}\n            <label htmlFor=\"carousel-upload\" onClick={() => handleSetIndex(index)}>Thay đổi ảnh</label>\n            <input type=\"file\" name=\"img\" accept=\"image/*\" id=\"carousel-upload\" hidden onChange={(e) => handleUploadCarousel(e)}/>\n          </div>\n        </div>\n      )): <div className={styles.loading}><CircularProgress /></div>}\n    </div>\n    <div className={styles.item} style={{marginTop: '5em'}}>\n      <div className={styles.title}>\n        Thông tin liên hệ\n      </div>\n      {siteInfoLoading ?  <div className={styles.loading}><CircularProgress /></div> : (\n        <form onSubmit={e => handleSubmitForm(e)} id=\"site-info\">\n          <div className={styles.formItem}>\n            {console.log(siteInfos)}\n            <div className={styles.name} >\n              Địa chỉ:\n            </div>\n            <input type=\"text\" defaultValue={siteInfos.address} id=\"address\"/>\n          </div>\n          <div className={styles.formItem}>\n            <div className={styles.name}>\n              Facebook:\n            </div>\n            <input type=\"text\" defaultValue={siteInfos.facebook} id=\"facebook\"/>\n          </div>\n          <div className={styles.formItem}>\n            <div className={styles.name}>\n              Zalo:\n            </div>\n            <input type=\"text\" defaultValue={siteInfos.zalo} id=\"zalo\"/>\n          </div>\n          <div className={styles.formItem}>\n            <div className={styles.name}>\n              Gmail:\n            </div>\n            <input type=\"text\" defaultValue={siteInfos.gmail} id=\"gmail\"/>\n          </div>\n          <div className={styles.formItem}>\n            <div className={styles.name}>\n              Di động:\n            </div>\n            <input type=\"text\" defaultValue={siteInfos.phone} id=\"phone\"/>\n          </div>\n          <Button variant=\"contained\" style={{backgroundColor: '#318fb5', color: 'white'}} form=\"site-info\" type=\"submit\">\n            Cập nhật\n          </Button>\n        </form>\n      )\n      }\n    </div>\n  </div>;\n}\n\nconst mapStateToProps = (state: any) => ({\n  carousels: state.admins.carousels,\n  siteInfos: state.admins.siteInfos\n})\n\nexport default connect(mapStateToProps, { getSiteInfo,updateSiteCarousel, getSiteCarousel, updateSiteInfo })(AdminOthers)"]},"metadata":{},"sourceType":"module"}