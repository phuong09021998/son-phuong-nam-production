{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nvar Panel = Collapse.Panel;\nimport { useRouter } from 'next/router';\n\nfunction Header(_ref) {\n  _s();\n\n  var toggleRegisterLogin = _ref.toggleRegisterLogin,\n      user = _ref.user,\n      getUser = _ref.getUser,\n      logOutUser = _ref.logOutUser;\n  var isSmallDevice = useMediaQuery({\n    query: '(max-width: 767px)'\n  });\n  var isMediumLargeDevice = useMediaQuery({\n    query: '(min-width: 768px)'\n  });\n  var router = useRouter();\n\n  var handleOpenLogin = function handleOpenLogin() {\n    toggleRegisterLogin(true, 'login');\n  }; // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n\n  var handleLogOut = function handleLogOut() {\n    logOutUser();\n    setTimeout(function () {\n      window.location.reload();\n    }, 1000);\n  };\n\n  var renderTopMenu = function renderTopMenu() {\n    return __jsx(\"div\", {\n      className: styles.topMenu\n    }, __jsx(\"div\", {\n      className: styles.text\n    }, \"MENU\"), __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/menu.svg\",\n      alt: \"menu-icon\"\n    })));\n  };\n\n  var renderAvatar = function renderAvatar() {\n    var menu = __jsx(Menu, null, __jsx(Menu.Item, null, __jsx(\"div\", {\n      className: styles.logOut,\n      style: {\n        textAlign: 'center'\n      },\n      onClick: handleLogOut\n    }, \"\\u0110\\u0103ng xu\\u1EA5t\")));\n\n    var setAvatar = function setAvatar() {\n      if (user.avatar) {\n        return __jsx(Avatar, {\n          src: \"/api/user/avatar\"\n        });\n      } else if (user.thirdPartyAvatar) {\n        return __jsx(Avatar, {\n          src: user.thirdPartyAvatar\n        });\n      } else if (!user.avatar) {\n        return __jsx(Avatar, {\n          className: styles.avatarName\n        }, user.name[0]);\n      }\n    };\n\n    var handleLinkClick = function handleLinkClick(link) {\n      router.push(link);\n    };\n\n    return __jsx(\"div\", {\n      className: styles.avatarWrapper\n    }, __jsx(\"div\", {\n      className: styles.avatar\n    }, setAvatar()), __jsx(\"div\", {\n      className: styles.down\n    }, __jsx(Dropdown, {\n      overlay: menu,\n      placement: \"bottomCenter\",\n      trigger: ['click']\n    }, __jsx(ExpandMoreIcon, null))));\n  };\n\n  var renderMediumLargeDeviceLayout = function renderMediumLargeDeviceLayout() {\n    return __jsx(\"header\", {\n      className: styles.header\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"div\", {\n      className: styles.logo\n    }, __jsx(\"div\", {\n      className: styles.logoWrapper\n    }, __jsx(\"img\", {\n      src: \"/icons/logo.svg\",\n      alt: \"logo\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, __jsx(\"div\", {\n      className: styles.name\n    }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n      className: styles.slogan\n    }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n      className: styles.menuWrapper\n    }, __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/');\n      }\n    }, \"Trang Ch\\u1EE7\"), __jsx(Link, {\n      href: \"/cua-hang\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"C\\u1EEDa H\\xE0ng\")), __jsx(Link, {\n      href: \"/dich-vu\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"D\\u1ECBch V\\u1EE5\")), __jsx(Link, {\n      href: \"/du-an\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"D\\u1EF1 \\xC1n\")), __jsx(Link, {\n      href: \"/kien-thuc\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Ki\\u1EBFn Th\\u1EE9c\")), __jsx(Link, {\n      href: \"/gioi-thieu\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Gi\\u1EDBi Thi\\u1EC7u\")), __jsx(Link, {\n      href: \"/lien-he\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Li\\xEAn H\\u1EC7\"))), __jsx(\"div\", {\n      className: styles.right\n    }, user ? renderAvatar() : __jsx(\"header\", {\n      className: styles.loginRegister\n    }, __jsx(\"div\", {\n      className: styles.login,\n      onClick: handleOpenLogin\n    }, __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/login.svg\",\n      alt: \"login\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, \"\\u0110\\u0102NG NH\\u1EACP\")))));\n  };\n\n  var renderSmallDeviceLayout = function renderSmallDeviceLayout() {\n    return __jsx(\"header\", {\n      className: styles.header\n    }, __jsx(\"div\", {\n      className: styles.top\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"div\", {\n      className: styles.logo\n    }, __jsx(\"div\", {\n      className: styles.logoWrapper\n    }, __jsx(\"img\", {\n      src: \"/icons/logo.svg\",\n      alt: \"logo\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, __jsx(\"div\", {\n      className: styles.name\n    }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n      className: styles.slogan\n    }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n      className: styles.right\n    }, user ? renderAvatar() : __jsx(\"div\", {\n      className: styles.loginRegister\n    }, __jsx(\"div\", {\n      className: styles.login,\n      onClick: handleOpenLogin\n    }, __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/login.svg\",\n      alt: \"login\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, \"\\u0110\\u0102NG NH\\u1EACP\"))))), __jsx(\"div\", {\n      className: styles.menuWrapper\n    }, __jsx(Collapse, {\n      className: styles.menu,\n      style: {\n        padding: '0'\n      }\n    }, __jsx(Panel, {\n      header: renderTopMenu(),\n      key: \"1\",\n      showArrow: false,\n      style: {\n        padding: '0'\n      }\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Trang Ch\\u1EE7\")), __jsx(Link, {\n      href: \"/cua-hang\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"C\\u1EEDa H\\xE0ng\")), __jsx(Link, {\n      href: \"/dich-vu\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"D\\u1ECBch V\\u1EE5\")), __jsx(Link, {\n      href: \"/du-an\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"D\\u1EF1 \\xC1n\")), __jsx(Link, {\n      href: \"/kien-thuc\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Ki\\u1EBFn Th\\u1EE9c\")), __jsx(Link, {\n      href: \"/gioi-thieu\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Gi\\u1EDBi Thi\\u1EC7u\")), __jsx(Link, {\n      href: \"/lien-he\"\n    }, __jsx(\"div\", {\n      className: styles.menuItem\n    }, \"Li\\xEAn H\\u1EC7\"))))));\n  };\n\n  useEffect(function () {\n    getUser();\n  }, []);\n  return __jsx(Fragment, null, isSmallDevice && renderSmallDeviceLayout(), isMediumLargeDevice && renderMediumLargeDeviceLayout());\n}\n\n_s(Header, \"UjqSWSx8xX38fTVTXxVOYld+yI8=\", false, function () {\n  return [useMediaQuery, useMediaQuery, useRouter];\n});\n\n_c = Header;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.users.data\n  };\n};\n\nexport default connect(mapStateToProps, {\n  toggleRegisterLogin: toggleRegisterLogin,\n  getUser: getUser,\n  logOutUser: logOutUser\n})(Header);\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/media/robert/DATA/Work/web-project/phuong-nam/src-code/components/Header/index.tsx"],"names":["React","Fragment","useEffect","styles","Link","Collapse","useMediaQuery","connect","toggleRegisterLogin","getUser","logOutUser","Avatar","Menu","Dropdown","ExpandMoreIcon","Panel","useRouter","Header","user","isSmallDevice","query","isMediumLargeDevice","router","handleOpenLogin","handleLogOut","setTimeout","window","location","reload","renderTopMenu","topMenu","text","icon","renderAvatar","menu","logOut","textAlign","setAvatar","avatar","thirdPartyAvatar","avatarName","name","handleLinkClick","link","push","avatarWrapper","down","renderMediumLargeDeviceLayout","header","logo","logoWrapper","slogan","menuWrapper","menuItem","right","loginRegister","login","renderSmallDeviceLayout","top","padding","mapStateToProps","state","users","data"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst { Panel } = Collapse;\nimport { useRouter } from 'next/router'\n\ninterface Props {\n  toggleRegisterLogin(isOpen: boolean, status: string): void;\n  user: any;\n  getUser: any;\n  logOutUser: any;\n}\n\nfunction Header({ toggleRegisterLogin, user, getUser, logOutUser }: Props) {\n  const isSmallDevice: boolean = useMediaQuery({ query: '(max-width: 767px)' });\n  const isMediumLargeDevice: boolean = useMediaQuery({\n    query: '(min-width: 768px)',\n  });\n\n  const router = useRouter()\n\n  const handleOpenLogin = (): void => {\n    toggleRegisterLogin(true, 'login');\n  };\n\n  // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n  const handleLogOut = () => {\n    logOutUser();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  };\n\n  const renderTopMenu = () => (\n    <div className={styles.topMenu}>\n      <div className={styles.text}>MENU</div>\n      <div className={styles.icon}>\n        <img src=\"/icons/menu.svg\" alt=\"menu-icon\" />\n      </div>\n    </div>\n  );\n\n  const renderAvatar = () => {\n    const menu = (\n      <Menu>\n        <Menu.Item>\n          <div className={styles.logOut} style={{ textAlign: 'center' }} onClick={handleLogOut}>\n            Đăng xuất\n          </div>\n        </Menu.Item>\n      </Menu>\n    );\n\n    const setAvatar = () => {\n      if (user.avatar) {\n        return <Avatar src=\"/api/user/avatar\" />;\n      } else if (user.thirdPartyAvatar) {\n        return <Avatar src={user.thirdPartyAvatar} />;\n      } else if (!user.avatar) {\n        return <Avatar className={styles.avatarName}>{user.name[0]}</Avatar>;\n      }\n    };\n    \n    const handleLinkClick = (link: string) => {\n      router.push(link);\n    }\n\n    return (\n      <div className={styles.avatarWrapper}>\n        <div className={styles.avatar}>{setAvatar()}</div>\n        <div className={styles.down}>\n          <Dropdown overlay={menu} placement=\"bottomCenter\" trigger={['click']}>\n            <ExpandMoreIcon />\n          </Dropdown>\n        </div>\n      </div>\n    );\n  };\n\n  const renderMediumLargeDeviceLayout = () => (\n    <header className={styles.header}>\n      {/* <h1>large</h1> */}\n      <Link href=\"/\">\n        <div className={styles.logo}>\n          <div className={styles.logoWrapper}>\n            <img src=\"/icons/logo.svg\" alt=\"logo\" />\n          </div>\n          <div className={styles.text}>\n            <div className={styles.name}>PHƯƠNG NAM</div>\n            <div className={styles.slogan}>Thách Thức Thời Gian</div>\n          </div>\n        </div>\n      </Link>\n      <div className={styles.menuWrapper}>\n        {/* <Link href=\"/\"> */}\n          <div className={styles.menuItem} onClick={() => handleLinkClick('/')}>Trang Chủ</div>\n        {/* </Link>  */}\n        <Link href=\"/cua-hang\">\n          <div className={styles.menuItem}>Cửa Hàng</div>\n        </Link>\n        <Link href=\"/dich-vu\">\n          <div className={styles.menuItem}>Dịch Vụ</div>\n        </Link>\n        <Link href=\"/du-an\">\n          <div className={styles.menuItem}>Dự Án</div>\n        </Link>\n        <Link href=\"/kien-thuc\">\n          <div className={styles.menuItem}>Kiến Thức</div>\n        </Link>\n        <Link href=\"/gioi-thieu\">\n          <div className={styles.menuItem}>Giới Thiệu</div>\n        </Link>\n        <Link href=\"/lien-he\">\n          <div className={styles.menuItem}>Liên Hệ</div>\n        </Link>\n      </div>\n      <div className={styles.right}>\n        {/* <div className={styles.cart}>\n          <img src=\"/icons/shopping-cart.svg\" alt=\"cart\" />\n        </div> */}\n        {user ? (\n          renderAvatar()\n        ) : (\n          <header className={styles.loginRegister}>\n            <div className={styles.login} onClick={handleOpenLogin}>\n              <div className={styles.icon}>\n                <img src=\"/icons/login.svg\" alt=\"login\"/>\n              </div>\n              <div className={styles.text}>ĐĂNG NHẬP</div>\n            </div>\n            {/* <div className={styles.register} onClick={handleOpenRegister}>\n              hoặc <span>đăng ký</span>\n            </div> */}\n          </header>\n        )}\n      </div>\n    </header>\n  );\n\n  const renderSmallDeviceLayout = () => (\n    <header className={styles.header}>\n      <div className={styles.top}>\n        <Link href=\"/\">\n          <div className={styles.logo}>\n            <div className={styles.logoWrapper}>\n              <img src=\"/icons/logo.svg\" alt=\"logo\" />\n            </div>\n            <div className={styles.text}>\n              <div className={styles.name}>PHƯƠNG NAM</div>\n              <div className={styles.slogan}>Thách Thức Thời Gian</div>\n            </div>\n          </div>\n        </Link>\n        <div className={styles.right}>\n          {/* <div className={styles.cart}>\n            <img src=\"/icons/shopping-cart.svg\" alt=\"cart\" />\n          </div> */}\n          {user ? (\n            renderAvatar()\n          ) : (\n            <div className={styles.loginRegister}>\n              <div className={styles.login} onClick={handleOpenLogin}>\n                <div className={styles.icon}>\n                  <img src=\"/icons/login.svg\" alt=\"login\"/>\n                </div>\n                <div className={styles.text}>ĐĂNG NHẬP</div>\n              </div>\n              {/* <div className={styles.register} onClick={handleOpenRegister}>\n                hoặc <span>đăng ký</span>\n              </div> */}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={styles.menuWrapper}>\n        <Collapse className={styles.menu} style={{ padding: '0' }}>\n          <Panel header={renderTopMenu()} key=\"1\" showArrow={false} style={{ padding: '0' }}>\n            <Link href=\"/\">\n              <div className={styles.menuItem}>Trang Chủ</div>\n            </Link>\n            <Link href=\"/cua-hang\">\n              <div className={styles.menuItem}>Cửa Hàng</div>\n            </Link>\n            <Link href=\"/dich-vu\">\n              <div className={styles.menuItem}>Dịch Vụ</div>\n            </Link>\n            <Link href=\"/du-an\">\n              <div className={styles.menuItem}>Dự Án</div>\n            </Link>\n            <Link href=\"/kien-thuc\">\n              <div className={styles.menuItem}>Kiến Thức</div>\n            </Link>\n            <Link href=\"/gioi-thieu\">\n              <div className={styles.menuItem}>Giới Thiệu</div>\n            </Link>\n            <Link href=\"/lien-he\">\n              <div className={styles.menuItem}>Liên Hệ</div>\n            </Link>\n          </Panel>\n        </Collapse>\n      </div>\n    </header>\n  );\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  return (\n    <Fragment>\n      {isSmallDevice && renderSmallDeviceLayout()}\n      {isMediumLargeDevice && renderMediumLargeDeviceLayout()}\n    </Fragment>\n  );\n}\n\nconst mapStateToProps = (state: any) => ({\n  user: state.users.data,\n});\n\nexport default connect(mapStateToProps, { toggleRegisterLogin, getUser, logOutUser })(Header);\n"]},"metadata":{},"sourceType":"module"}