{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Fragment, useEffect } from 'react';\nimport styles from './Header.module.scss';\nimport Link from 'next/link';\nimport { Collapse } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\nimport { connect } from 'react-redux';\nimport { toggleRegisterLogin } from '../../redux/actions/ui';\nimport { getUser, logOutUser } from 'redux/actions/users';\nimport { Avatar, Menu, Dropdown } from 'antd';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nvar Panel = Collapse.Panel;\nimport { useRouter } from 'next/router';\n\nfunction Header(_ref) {\n  var toggleRegisterLogin = _ref.toggleRegisterLogin,\n      user = _ref.user,\n      getUser = _ref.getUser,\n      logOutUser = _ref.logOutUser;\n  var isSmallDevice = useMediaQuery({\n    query: '(max-width: 767px)'\n  });\n  var isMediumLargeDevice = useMediaQuery({\n    query: '(min-width: 768px)'\n  });\n  var router = useRouter();\n\n  var handleOpenLogin = function handleOpenLogin() {\n    toggleRegisterLogin(true, 'login');\n  };\n\n  var handleLinkClick = function handleLinkClick(link) {\n    router.push(link);\n  }; // const handleOpenRegister = (): void => {\n  //   toggleRegisterLogin(true, 'register');\n  // };\n\n\n  var handleLogOut = function handleLogOut() {\n    logOutUser();\n    setTimeout(function () {\n      window.location.reload();\n    }, 1000);\n  };\n\n  var renderTopMenu = function renderTopMenu() {\n    return __jsx(\"div\", {\n      className: styles.topMenu\n    }, __jsx(\"div\", {\n      className: styles.text\n    }, \"MENU\"), __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/menu.svg\",\n      alt: \"menu-icon\"\n    })));\n  };\n\n  var renderAvatar = function renderAvatar() {\n    var menu = __jsx(Menu, null, __jsx(Menu.Item, null, __jsx(\"div\", {\n      className: styles.logOut,\n      style: {\n        textAlign: 'center'\n      },\n      onClick: handleLogOut\n    }, \"\\u0110\\u0103ng xu\\u1EA5t\")));\n\n    var setAvatar = function setAvatar() {\n      if (user.avatar) {\n        return __jsx(Avatar, {\n          src: \"/api/user/avatar\"\n        });\n      } else if (user.thirdPartyAvatar) {\n        return __jsx(Avatar, {\n          src: user.thirdPartyAvatar\n        });\n      } else if (!user.avatar) {\n        return __jsx(Avatar, {\n          className: styles.avatarName\n        }, user.name[0]);\n      }\n    };\n\n    return __jsx(\"div\", {\n      className: styles.avatarWrapper\n    }, __jsx(\"div\", {\n      className: styles.avatar\n    }, setAvatar()), __jsx(\"div\", {\n      className: styles.down\n    }, __jsx(Dropdown, {\n      overlay: menu,\n      placement: \"bottomCenter\",\n      trigger: ['click']\n    }, __jsx(ExpandMoreIcon, null))));\n  };\n\n  var renderMediumLargeDeviceLayout = function renderMediumLargeDeviceLayout() {\n    return __jsx(\"header\", {\n      className: styles.header\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"div\", {\n      className: styles.logo\n    }, __jsx(\"div\", {\n      className: styles.logoWrapper\n    }, __jsx(\"img\", {\n      src: \"/icons/logo.svg\",\n      alt: \"logo\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, __jsx(\"div\", {\n      className: styles.name\n    }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n      className: styles.slogan\n    }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n      className: styles.menuWrapper\n    }, __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/');\n      }\n    }, \"Trang Ch\\u1EE7\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/cua-hang');\n      }\n    }, \"C\\u1EEDa H\\xE0ng\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/dich-vu');\n      }\n    }, \"D\\u1ECBch V\\u1EE5\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/du-an');\n      }\n    }, \"D\\u1EF1 \\xC1n\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/kien-thuc');\n      }\n    }, \"Ki\\u1EBFn Th\\u1EE9c\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/gioi-thieu');\n      }\n    }, \"Gi\\u1EDBi Thi\\u1EC7u\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/lien-he');\n      }\n    }, \"Li\\xEAn H\\u1EC7\")), __jsx(\"div\", {\n      className: styles.right\n    }, user ? renderAvatar() : __jsx(\"header\", {\n      className: styles.loginRegister\n    }, __jsx(\"div\", {\n      className: styles.login,\n      onClick: handleOpenLogin\n    }, __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/login.svg\",\n      alt: \"login\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, \"\\u0110\\u0102NG NH\\u1EACP\")))));\n  };\n\n  var renderSmallDeviceLayout = function renderSmallDeviceLayout() {\n    return __jsx(\"header\", {\n      className: styles.header\n    }, __jsx(\"div\", {\n      className: styles.top\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"div\", {\n      className: styles.logo\n    }, __jsx(\"div\", {\n      className: styles.logoWrapper\n    }, __jsx(\"img\", {\n      src: \"/icons/logo.svg\",\n      alt: \"logo\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, __jsx(\"div\", {\n      className: styles.name\n    }, \"PH\\u01AF\\u01A0NG NAM\"), __jsx(\"div\", {\n      className: styles.slogan\n    }, \"Th\\xE1ch Th\\u1EE9c Th\\u1EDDi Gian\")))), __jsx(\"div\", {\n      className: styles.right\n    }, user ? renderAvatar() : __jsx(\"div\", {\n      className: styles.loginRegister\n    }, __jsx(\"div\", {\n      className: styles.login,\n      onClick: handleOpenLogin\n    }, __jsx(\"div\", {\n      className: styles.icon\n    }, __jsx(\"img\", {\n      src: \"/icons/login.svg\",\n      alt: \"login\"\n    })), __jsx(\"div\", {\n      className: styles.text\n    }, \"\\u0110\\u0102NG NH\\u1EACP\"))))), __jsx(\"div\", {\n      className: styles.menuWrapper\n    }, __jsx(Collapse, {\n      className: styles.menu,\n      style: {\n        padding: '0'\n      }\n    }, __jsx(Panel, {\n      header: renderTopMenu(),\n      key: \"1\",\n      showArrow: false,\n      style: {\n        padding: '0'\n      }\n    }, __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/');\n      }\n    }, \"Trang Ch\\u1EE7\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/cua-hang');\n      }\n    }, \"C\\u1EEDa H\\xE0ng\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/dich-vu');\n      }\n    }, \"D\\u1ECBch V\\u1EE5\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/du-an');\n      }\n    }, \"D\\u1EF1 \\xC1n\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/kien-thuc');\n      }\n    }, \"Ki\\u1EBFn Th\\u1EE9c\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/gioi-thieu');\n      }\n    }, \"Gi\\u1EDBi Thi\\u1EC7u\"), __jsx(\"div\", {\n      className: styles.menuItem,\n      onClick: function onClick() {\n        return handleLinkClick('/lien-he');\n      }\n    }, \"Li\\xEAn H\\u1EC7\")))));\n  };\n\n  useEffect(function () {\n    getUser();\n  }, []);\n  return __jsx(Fragment, null, isSmallDevice && renderSmallDeviceLayout(), isMediumLargeDevice && renderMediumLargeDeviceLayout());\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.users.data\n  };\n};\n\nexport default connect(mapStateToProps, {\n  toggleRegisterLogin: toggleRegisterLogin,\n  getUser: getUser,\n  logOutUser: logOutUser\n})(Header);","map":null,"metadata":{},"sourceType":"module"}